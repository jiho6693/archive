<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="style.css">
<style>
    #imageContainer {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
    }

    #imageContainer img {
        margin: 10px;
        max-width: 100%;
        height: auto;
    }
</style>

<!-- 웹에 공유되어있는 라이브러리 불러오기 -->

</head>
<body>
    <div class="box">
        <div class="title">
          LIBRARY
        </div>
      
        <div class="index">
          <a href="text.html"> INDEX</a> /  <a href="image.html"> IMAGE</a>
          
        </div>
      </div>
      
      <div class="category">
      <div class="1">
        COLLECTION </div><br><br>
    
    <div id="imageContainer"></div>
    
    <script>
        // 서버에서 이미지 파일 목록을 가져와서 보여주는 함수
        function getAndDisplayImages() {
            fetch('/getImages')
                .then(response => response.json())
                .then(files => {
                    const imageContainer = document.getElementById('imageContainer');

                    // 가져온 이미지 파일 목록을 순회하면서 이미지를 표시
                    files.forEach(file => {
                        const imgElement = document.createElement('img');
                        imgElement.src = `/getImageByUrl?url=${encodeURIComponent(`./images/${file}`)}`;
                        imgElement.alt = file;
                        imageContainer.appendChild(imgElement);
                    });
                })
                .catch(error => console.error('Error:', error));
        }

        // 페이지 로드 시 이미지 가져오기 및 표시
        window.onload = getAndDisplayImages;
        


       
       
     

    </script>
</body>
</html>